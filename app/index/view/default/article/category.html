{{:ModuleInclude('public/header')}}

<!-- header top nav -->
{{:ModuleInclude('public/header_top_nav')}}

<!-- search -->
{{:ModuleInclude('public/nav_search')}}

<!-- header nav -->
{{:ModuleInclude('public/header_nav')}}

<!-- goods category -->
{{:ModuleInclude('public/goods_category')}}

<!-- 面包屑导航 -->
{{:ModuleInclude('public/breadcrumb_data')}}

<!-- 文章分类顶部钩子 -->
{{if isset($shopxo_is_develop) and $shopxo_is_develop eq true}}
    <div class="plugins-tag">
        <span>plugins_view_article_category_top</span>
    </div>
{{/if}}
{{if !empty($plugins_view_article_category_top_data) and is_array($plugins_view_article_category_top_data)}}
    {{foreach $plugins_view_article_category_top_data as $hook}}
        {{if is_string($hook) or is_int($hook)}}
            {{$hook|raw}}
        {{/if}}
    {{/foreach}}
{{/if}}

<!-- content start -->
<div class="am-container article-content">
    <!-- 右侧内容 -->
    <div class="am-u-md-10 am-u-md-push-2 article-right">
        <div class="am-background-white am-radius am-padding-lg">
            {{if !empty($category_info)}}
                <div class="article-header am-text-center am-padding-0">
                    <h1 class="am-article-title">{{$category_info.name}}</h1>
                    <hr data-am-widget="divider" class="am-divider am-divider-default" />
                </div>
            {{else /}}
                {{if !empty($params['awd'])}}
                    <div class="article-header am-text-center am-padding-0">
                    <h1 class="am-article-title">{{:MyLang('common_service.search.search_breadcrumb_result_last_text')}}</h1>
                    <hr data-am-widget="divider" class="am-divider am-divider-default" />
                </div>
                {{/if}}
            {{/if}}

            <!-- 文章分类内容底部钩子 -->
            {{if isset($shopxo_is_develop) and $shopxo_is_develop eq true}}
                <div class="plugins-tag">
                    <span>plugins_view_article_category_content_top</span>
                </div>
            {{/if}}
            {{if !empty($plugins_view_article_category_content_top_data) and is_array($plugins_view_article_category_content_top_data)}}
                {{foreach $plugins_view_article_category_content_top_data as $hook}}
                    {{if is_string($hook) or is_int($hook)}}
                        {{$hook|raw}}
                    {{/if}}
                {{/foreach}}
            {{/if}}

            <!-- 内容 -->
            {{if !empty($data_list)}}
                <div data-am-widget="list_news" class="am-list-news am-list-news-default am-margin-0">
                    <div class="am-list-news-bd">
                        <ul class="am-list category-content-list">
                            {{foreach $data_list as $v}}
                                <li class="am-g am-list-item-dated">
                                    <a href="{{$v.url}}" class="am-list-item-hd" {{if !empty($v['title_color'])}}style="color:{{$v.title_color}};"{{/if}}>
                                        {{if empty($v['cover'])}}
                                            <span>{{$v.title}}</span>
                                        {{else /}}
                                            {{if empty($v['describe'])}}
                                                <img src="{{$v.cover}}" class="article-cover am-radius" alt="{{$v.title}}" />
                                                <span>{{$v.title}}</span>
                                            {{else /}}
                                                <div class="am-fl am-nbfc">
                                                    <img src="{{$v.cover}}" class="article-cover-describe am-radius am-fl" alt="{{$v.title}}" />
                                                    <div class="am-fl article-base-info">
                                                        <p class="am-text-truncate">{{$v.title}}</p>
                                                        <p class="am-text-truncate-2 am-text-grey am-margin-top-xs">{{$v.describe}}</p>
                                                    </div>
                                                </div>
                                            {{/if}}
                                        {{/if}}
                                    </a>
                                    <span class="am-list-date">{{$v.add_time}}</span>
                                </li>
                            {{/foreach}}
                        </ul>
                    </div>
                </div>

                <!-- 分页 -->
                <div class="am-padding-top-sm">{{$page_html|raw}}</div>
            {{else /}}
                {{:ModuleInclude('public/not_data')}}
            {{/if}}

            <!-- 文章分类内容底部钩子 -->
            {{if isset($shopxo_is_develop) and $shopxo_is_develop eq true}}
                <div class="plugins-tag">
                    <span>plugins_view_article_category_content_botton</span>
                </div>
            {{/if}}
            {{if !empty($plugins_view_article_category_content_botton_data) and is_array($plugins_view_article_category_content_botton_data)}}
                {{foreach $plugins_view_article_category_content_botton_data as $hook}}
                    {{if is_string($hook) or is_int($hook)}}
                        {{$hook|raw}}
                    {{/if}}
                {{/foreach}}
            {{/if}}
        </div>
    </div>

    <!-- 左侧内容 -->
    {{:ModuleInclude('article/module/left', [
        'article'        => empty($article) ? [] : $article,
        'category_info'  => empty($category_info) ? [] : $category_info,
        'category_list'  => empty($category_list) ? [] : $category_list,
    ])}}
</div>
<!-- content end -->

<!-- 文章分类底部钩子 -->
{{if isset($shopxo_is_develop) and $shopxo_is_develop eq true}}
    <div class="plugins-tag">
        <span>plugins_view_article_category_bottom</span>
    </div>
{{/if}}
{{if !empty($plugins_view_article_category_bottom_data) and is_array($plugins_view_article_category_bottom_data)}}
    {{foreach $plugins_view_article_category_bottom_data as $hook}}
        {{if is_string($hook) or is_int($hook)}}
            {{$hook|raw}}
        {{/if}}
    {{/foreach}}
{{/if}}

<!-- footer start -->
{{:ModuleInclude('public/footer')}}